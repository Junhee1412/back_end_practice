<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8" />
  <meta
          name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />
  <meta name="description" content="" />
  <meta name="author" content="" />
  <meta property="og:type" content="website" />
  <meta
          property="og:url"
          content="http://meowmeyou.com/"
  />
  <meta property="og:title" content="미유미유" />
  <meta property="og:description" content="너와 나의 이야기가 펼쳐지는 곳" />
  <link href="../css/bootstrap-icons.css" rel="stylesheet">
  <meta
          property="og:image"
          content="http://meowmeyou.com/img/index/kakao_preview.jpg"
  />
  <meta
          property="og:site_name"
          content="유기묘 커뮤니티에 오신걸 환영합니다!"
  />
  <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
          crossorigin="anonymous"
  />
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"></script>

  <link
          rel="icon"
          href="../img/favicon/favicon-remove-bg.ico"
          type="image/x-icon"
          sizes="16x16"
  />
  <title>내 글 목록 보기</title>
  <!-- Font Awesome icons (free version)-->
  <script
          src="https://use.fontawesome.com/releases/v6.1.0/js/all.js"
          crossorigin="anonymous"
  ></script>
  <!-- Simple line icons-->
  <link
          href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.5.5/css/simple-line-icons.min.css"
          rel="stylesheet"
  />
  <!-- Google fonts-->
  <link
          href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic"
          rel="stylesheet"
          type="text/css"
  />
  <!-- Core theme CSS (includes Bootstrap)-->
  <link href="../css/post_list.css" rel="stylesheet" />
</head>

<body id="page-top">
<!-- Navigation-->
<header id="header" class="header d-flex align-items-center fixed-top">
  <div class="container-fluid container-xl d-flex align-items-center justify-content-between">


    <!-- Uncomment the line below if you also wish to use an image logo -->
    <!-- <img src="assets/img/logo.png" alt=""> -->
    <a class="logo d-flex align-items-center" href="/"><img alt="Brand" src="../img/logo/logo_remove_bg.png"></a>
    </a>

    <i class="mobile-nav-toggle mobile-nav-show bi bi-list "></i>
    <i class="mobile-nav-toggle mobile-nav-hide d-none bi bi-x "></i>


    <nav id="navbar" class="navbar">
      <ul>
        <li class="dropdown"><a href="/"><span>Meow me, you</span> <i class="bi bi-chevron-down dropdown-indicator"></i></a>
          <ul>
            <li><a href="business">사업소개</a></li>
            <!--                <li><a th:href="@{/boardlist?(id=ADP_REV)}">후원내역</a></li>-->
          </ul>
        </li>
        <li><a href="donatehome">후원하기</a></li>
        <li class="dropdown"><a href="#"><span>물품거래</span> <i class="bi bi-chevron-down dropdown-indicator"></i></a>
          <ul>
            <li><a th:href="@{/boardlist?(id=FRE_SEL)}">무료 나눔</a></li>
            <li><a th:href="@{/boardlist?(id=USD_TRN)}">중고 거래</a></li>
          </ul>
        </li>
        <li class="dropdown"><a href="#"><span>커뮤니티</span> <i class="bi bi-chevron-down dropdown-indicator"></i></a>
          <ul>
            <li><a th:href="@{/boardlist?(id=NOTICE)}">공지사항</a></li>
            <li><a th:href="@{/boardlist?(id=ADP_ACT)}">분양하기</a></li>
            <li><a th:href="@{/boardlist?(id=ADP_REV)}">분양후기</a></li>
            <li><a th:href="@{/boardlist?(id=CAT_STR)}">캣스타그램</a></li>
          </ul>
        </li>
        <li th:if="${userType}=='MEMBER'" class="dropdown"><a href="my_page"><span>마이페이지</span> <i class="bi bi-chevron-down dropdown-indicator"></i></a>
          <ul>
            <li><a href="myPost">내 글 모아보기</a></li>
            <li><a href="myReply">내가 쓴 댓글 모아보기</a></li>
            <li><a href="myHeart">좋아요 목록 보기</a></li>
            <li><a href="donatelist">내 후원 목록보기</a></li>
            <li><a href="modifyUser">회원정보 수정하기</a></li>
          </ul>
        </li>
        <li th:if="${userType}=='ADMIN'" class="dropdown"><a href="adminMypage"><span>관리자마이페이지</span> <i class="bi bi-chevron-down dropdown-indicator"></i></a>
          <ul>
            <li><a href="adminMypage">관리자마이페이지</a></li>
            <li><a href="adminUserList">유저 리스트</a></li>
            <li><a href="adminPostManage">전체 글</a></li>
            <li><a href="adminDonatemanage">후원 내역</a></li>
            <li><a href="adminModify">관리자 수정</a></li>
          </ul>
        </li>
        <li><a class="get-a-quote" href="logout">로그아웃</a></li>
      </ul>
    </nav>
    <!-- .navbar -->


  </div>
</header><!-- End Header -->

<!-- section -->
<div class="header-card">
  <div class="card bg-crop">
    <img src="../img/mypost/my_post.jpg" class="card-img rounded mx-auto d-block bg-menu" alt="커뮤니티설명" style="top:-300px;"/>
    <div class="card-img-overlay" id="community_type">
      <h5 class="card-title text-dark text-center fs-1">
        글 목록
      </h5>
      <p class="card-text text-dark text-center fs-3">
        <span th:text="${userNickName}"></span>님의 글입니다.
      </p>
    </div>
  </div>
</div>

<section>

  <div id="table_box">
    <table class="table pad_4 text-center">
      <thead>
      <tr>
        <th scope="col">커뮤니티</th>
        <th scope="col">글제목</th>
        <th scope="col">조회 수</th>
        <!--<th scope="col">댓글 수</th>
        <th scope="col">좋아요 수</th>-->
        <th th:if="${userType}=='ADMIN'" scope="col">작성자</th>
        <th scope="col">작성일자</th>
        <th scope="col">삭제</th>

      </tr>
      </thead>
      <tbody>
      <tr th:each="postMaster: ${postList}">
        <td th:switch="${postMaster.getCommunityId()}">
          <span th:case="'ADP_ACT'">분양하기</span>
          <span th:case="'ADP_REV'">분양후기</span>
          <span th:case="'CAT_STR'">캣스타그램</span>
          <span th:case="'DON_HST'">후원내역</span>
          <span th:case="'FRE_SEL'">무료나눔</span>
          <span th:case="'USD_TRN'">중고거래</span>
          <span th:case="'NOTICE'">공지사항</span>
        </td>
        <td class="text-start"><a  th:href="@{/boardview?(postNo=${postMaster.postNo})}"><span th:text="${postMaster.getSubject()}"></span></a></td>
        <td th:text="${postMaster.getViewCount()}">조회수</td>
        <td th:if="${userType}=='ADMIN'"><span th:text="${postMaster.getUserMaster().getNickName()}"></span></td>
        <!--<td th:text="${postMaster.getViewCount()}">댓글수</td>
        <td th:text="${postMaster.getViewCount()}">좋아요수</td>-->
        <td th:text="${#temporals.format(postMaster.getCreatePostDate(), 'yyyy-MM-dd HH:mm:ss')}">작성일</td>

        <td><a th:href="@{/deletePostInMyPage?(postNo=${postMaster.postNo})}" type="button" class="btn btn-outline-danger btn-sm confirm_deletePost_btn">삭제</a></td>
      </tr>
      </tbody>
    </table>
    <hr class="border border-white">
  </div>


  <!-- 검색 하기 -->
  <div  style="margin: 0 auto; width: 25%; ">
    <!-- 230226 일반유저가 검색할 경우 -->
    <form th:if="${userType}=='MEMBER'" th:action="@{/myPost}" method="get">
      <div class="p-1 bg-light rounded rounded-pill shadow-sm mb-4">
        <div class="input-group">
          <input type="search" name="searchKeyword" placeholder="제목을 입력하세요" aria-describedby="button-addon1" class="form-control border-0 bg-light">
          <div class="input-group-append">
            <button id="button-addon1" type="submit" class="btn btn-link text-primary"><i class="fa fa-search"></i></button>
          </div>
        </div>
      </div>
    </form>
    <!-- 230226 관리자가 전체글에서 검색 -->
    <form th:if="${userType}=='ADMIN' and ${userNickName}==null" th:action="@{/adminPostManage}" method="get">
      <div class="p-1 bg-light rounded rounded-pill shadow-sm mb-4">
        <div class="input-group">
          <input type="search" name="searchKeyword" placeholder="제목을 입력하세요" aria-describedby="button-addon1" class="form-control border-0 bg-light">
          <div class="input-group-append">
            <button id="button-addon1" type="submit" class="btn btn-link text-primary"><i class="fa fa-search"></i></button>
          </div>
        </div>
      </div>
    </form>
    <!-- 230226 관리자가 유저 상세보기에서 검색 -->
    <form th:if="${userType}=='ADMIN' and ${userNickName}!=null" th:action="@{/adminUserPost}" method="get">
      <div class="p-1 bg-light rounded rounded-pill shadow-sm mb-4">
        <div class="input-group">
          <input type="hidden" name="userNo" th:value="${userNo}">
          <input type="search" name="searchKeyword" placeholder="제목을 입력하세요" aria-describedby="button-addon1" class="form-control border-0 bg-light">
          <div class="input-group-append">
            <button id="button-addon1" type="submit" class="btn btn-link text-primary"><i class="fa fa-search"></i></button>
          </div>
        </div>
      </div>
    </form>
  </div>

  <hr class="border border-white">
  <!-- 페이지 -->
  <!--230225 아래줄에 th:style="${totalPage<=0 ? 'visibility:hidden' : 'visibility'}" 추가-->
  <!-- 230226 , searchKeyword = ${param.searchKeyword} 추가 -->
  <nav  class="marbot_100" aria-label="Page navigation example" th:style="${totalPage<=0 ? 'visibility:hidden' : 'visibility'}">
    <ul class="pagination">
      <li class="page-item" th:classappend="${1 == nowPage} ? 'disabled'">
        <a class="page-link" th:if="${userType}=='ADMIN' and ${userNickName}==null" href="#" aria-label="Previous" th:href="@{/adminPostManage(page=${startPage-1})}"><span aria-hidden="true">&laquo;</span></a>
        <a class="page-link" th:if="${userType}=='ADMIN' and ${userNickName}!=null" href="#" aria-label="Previous" th:href="@{/adminUserPost(userNo=${userNo},page=${startPage-1})}"><span aria-hidden="true">&laquo;</span></a>
        <a class="page-link" th:if="${userType}=='MEMBER'" href="#" aria-label="Previous" th:href="@{/myPost(page=${startPage-1})}"><span aria-hidden="true">&laquo;</span></a>
      </li>
      <li class="page-item" th:classappend="${1 == nowPage} ? 'disabled'">
        <a class="page-link" th:if="${userType}=='ADMIN' and ${userNickName}==null" href="#" aria-label="Previous" th:href="@{/adminPostManage(page=${nowPage-2})}"><span aria-hidden="true">&lt;</span></a>
        <a class="page-link" th:if="${userType}=='ADMIN' and ${userNickName}!=null" href="#" aria-label="Previous" th:href="@{/adminUserPost(userNo=${userNo},page=${nowPage-2})}"><span aria-hidden="true">&lt;</span></a>
        <a class="page-link" th:if="${userType}=='MEMBER'" href="#" aria-label="Previous" th:href="@{/myPost(page=${nowPage-2})}"><span aria-hidden="true">&lt;</span></a>
      </li>
      <li class="page-item" th:classappend="${i == nowPage} ? 'disabled'" th:each="i : ${#numbers.sequence(startPage, endPage)}" th:if="${i >= nowPage-5 and i <= nowPage+4}">
        <a class="page-link" th:if="${userType}=='ADMIN' and ${userNickName}==null" href="#"  th:href="@{/adminPostManage(page=${i - 1}, searchKeyword = ${param.searchKeyword})}" th:text="${i}">1</a>
        <a class="page-link" th:if="${userType}=='ADMIN' and ${userNickName}!=null" href="#"  th:href="@{/adminUserPost(userNo=${userNo},page=${i - 1},searchKeyword = ${param.searchKeyword})}" th:text="${i}">1</a>
        <a class="page-link" th:if="${userType}=='MEMBER'" href="#"  th:href="@{/myPost(page=${i - 1}, searchKeyword = ${param.searchKeyword})}" th:text="${i}">1</a>
      </li>

      <li class="page-item" th:classappend="${endPage == nowPage} ? 'disabled'">
        <a class="page-link" th:if="${userType}=='ADMIN' and ${userNickName}==null" href="#" aria-label="Next"  th:href="@{/adminPostManage(page=${nowPage})}"><span aria-hidden="true">&gt;</span></a>
        <a class="page-link" th:if="${userType}=='ADMIN' and ${userNickName}!=null" href="#" aria-label="Next"  th:href="@{/adminUserPost(userNo=${userNo},page=${nowPage})}"><span aria-hidden="true">&gt;</span></a>
        <a class="page-link" th:if="${userType}=='MEMBER'" href="#" aria-label="Next"  th:href="@{/myPost(page=${nowPage})}"><span aria-hidden="true">&gt;</span></a>
      </li>
      <li class="page-item" th:classappend="${endPage == nowPage} ? 'disabled'">
        <a class="page-link" th:if="${userType}=='ADMIN' and ${userNickName}==null" href="#" aria-label="Next"  th:href="@{/adminPostManage(page=${endPage-1})}"><span aria-hidden="true">&raquo;</span></a>
        <a class="page-link" th:if="${userType}=='ADMIN' and ${userNickName}!=null" href="#" aria-label="Next"  th:href="@{/adminUserPost(userNo=${userNo},page=${endPage-1})}"><span aria-hidden="true">&raquo;</span></a>
        <a class="page-link" th:if="${userType}=='MEMBER'" href="#" aria-label="Next"  th:href="@{/myPost(page=${endPage-1})}"><span aria-hidden="true">&raquo;</span></a>
      </li>
    </ul>
  </nav>
  <!--페이지 end-->
  <hr class="border border-white">


</section>
<!-- section - end -->




<!-- Footer-->
<footer class="py-5 bg-dark">
  <div class="container px-4">
    <p class="m-0 text-center text-white">
      Copyright &copy; Your Website 2023
    </p>
  </div>
</footer>
<!-- Scroll to Top Button-->
<a class="scroll-to-top rounded" href="#page-top"
><i class="fas fa-angle-up"></i
></a>
<!-- Bootstrap core JS-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- Core theme JS-->
<script src="../js/user/user_post_list.js"></script>
</body>
</html>