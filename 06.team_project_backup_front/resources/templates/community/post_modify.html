<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout_5.2.3}">

<!--고유 CSS 추가-->
<th:block layout:fragment="css">
    <link th:href="@{/css/fragments/header_card.css}" rel="stylesheet" />
    <link th:href="@{/css/community/post_modify.css}" rel="stylesheet" />
</th:block>

<!--고유 스크립트 추가-->
<th:block layout:fragment="script">
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
    <script defer src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"></script>
</th:block>
<title>글 수정하기 페이지</title>
<div layout:fragment="content">

    <div class="jua" th:switch="${board.communityId}">

        <div th:case="'ADP_ACT'" class="header-card">
            <div class="card bg-crop">
                <img src="../img/banner/adopt_action_banner.jpg" class="card-img rounded mx-auto d-block bg-menu" alt="커뮤니티설명" style="top:-250px;left:0px;"/>
                <div class="card-img-overlay">
                    <h5 class="card-title text-dark text-center fs-1">
                        분양하기 커뮤니티
                    </h5>
                    <p class="card-text text-dark text-center fs-3">
                        고양이를 분양을 하는 곳입니다. 새로운 가족을 찾아주세요~
                    </p>
                </div>
            </div>
        </div>

        <div th:case="'ADP_REV'" class="header-card">
            <div class="card bg-crop">
                <img src="../img/banner/adopt_review_banner.jpg" class="card-img rounded mx-auto d-block bg-menu" alt="커뮤니티설명" style="top:-100px;left:0px;"/>
                <div class="card-img-overlay">
                    <h5 class="card-title text-dark text-center fs-1">
                        분양후기 커뮤니티
                    </h5>
                    <p class="card-text text-dark text-center fs-3">
                        분양 받은 고양이들이 어떻게 지내고 있는지 알려주세요!
                    </p>
                </div>
            </div>
        </div>

        <div th:case="'CAT_STR'" class="header-card">
            <div class="card bg-crop">
                <img src="../img/banner/cat_star_banner.jpg" class="card-img rounded mx-auto d-block bg-menu" alt="커뮤니티설명" style="top:-150px;left:0px;"/>
                <div class="card-img-overlay">
                    <h5 class="card-title text-dark text-center fs-1">
                        캣스타그램
                    </h5>
                    <p class="card-text text-dark text-center fs-3">
                        고양이들의 일상을 적어보는 커뮤니티!
                    </p>
                </div>
            </div>
        </div>

        <div th:case="'DON_HST'" class="header-card">
            <div class="card bg-crop">
                <img src="../img/banner/donate_banner.jpg" class="card-img rounded mx-auto d-block bg-menu" alt="커뮤니티설명" style="top:-150px;left:0px;"/>
                <div class="card-img-overlay">
                    <h5 class="card-title text-dark text-center fs-1">
                        Meow me you 후원내역입니다.
                    </h5>
                    <p class="card-text text-dark text-center fs-3">
                        후원해주신 모금액은 아래와 같이 전달되고 있습니다.
                    </p>
                </div>
            </div>
        </div>

        <div th:case="'FRE_SEL'" class="header-card">
            <div class="card bg-crop">
                <img src="../img/banner/free_sell_banner.jpg" class="card-img rounded mx-auto d-block bg-menu" alt="커뮤니티설명"  style="top:-100px;left:0px;"/>
                <div class="card-img-overlay">
                    <h5 class="card-title text-dark text-center fs-1">
                        고양이, 집사용품 무료나눔!
                    </h5>
                    <p class="card-text text-dark text-center fs-3">
                        가지고 있기에 아까운 물품들을 나눠주세요!
                    </p>
                </div>
            </div>
        </div>

        <div th:case="'USD_TRN'" class="header-card">
            <div class="card bg-crop">
                <img src="../img/banner/used_trans_banner.jpg" class="card-img rounded mx-auto d-block bg-menu" alt="커뮤니티설명" style="top:-200px;left:0px;"/>
                <div class="card-img-overlay">
                    <h5 class="card-title text-dark text-center fs-1">
                        고양이, 집사용품 중고거래!
                    </h5>
                    <p class="card-text text-dark text-center fs-3">
                        고양이, 집사용품을 거래할 수 있는 커뮤니티입니다~
                    </p>
                </div>
            </div>
        </div>

        <div th:case="'NOTICE'" class="header-card">
            <div class="card bg-crop">
                <img src="../img/banner/notice_banner.jpg" class="card-img rounded mx-auto d-block bg-menu" alt="커뮤니티설명" style="top:-100px;left:0px;"/>
                <div class="card-img-overlay">
                    <h5 class="card-title text-dark text-center fs-1">
                        공지사항
                    </h5>
                    <p class="card-text text-dark text-center fs-3">
                        Meow, me you 공지사항입니다!
                    </p>
                </div>
            </div>
        </div>


    </div>

    <form class="sans" id="frm" th:action="@{/boardupdate(postNo=${board.postNo})}" method="post" enctype="multipart/form-data">
        <div id="insert_text_box">
            <div class="row w-50 mb-3">
                <label for="formTextContent" class="col-sm-2 col-form-label">제목 *</label>
                <div class="col-sm-10">
                    <input
                        type="text" name="subject"
                        class="form-control"
                        id="formTextContent"
                        placeholder="제목을 입력해주세요." th:value="${board.subject}" required
                    />
                </div>
            </div>
            <!--이후 추가-->
            <div class="row w-50 mb-5">

                <div th:if="${board.communityId}=='USD_TRN' or ${board.communityId}=='FRE_SEL'">

                    <div th:switch="${board.communityId}">
                        <div th:case="'FRE_SEL'">
                            <input type="hidden" name="price" value="0">
                            <div class="col-sm-10 mb-3" style="display:flex; justify-content: center; align-items: center;">
                                <label for="post_id_select_byFreeSell" class="col-sm-2 col-form-label">무료나눔품목 *</label>
                                <select id= "post_id_select_byFreeSell" name="postId" th:value="${board.postId}" class="form-select" aria-label="post_type">
                                    <option th:selected="${board.postId}=='CTWR_FREE'" value="CTWR_FREE">캣타워</option>
                                    <option th:selected="${board.postId}=='FDST_FREE'" value="FDST_FREE">식사용품</option>
                                    <option th:selected="${board.postId}=='FOOD_FREE'" value="FOOD_FREE">소모품(식사류)</option>
                                    <option th:selected="${board.postId}=='HSW_FREE'" value="HSW_FREE">집사용품</option>
                                    <option th:selected="${board.postId}=='HYG_FREE'" value="HYG_FREE">위생용품</option>
                                </select>
                            </div>
                        </div>
                        <div th:case="'USD_TRN'" >

                            <div class="mb-3" style="display:flex; justify-content: space-between; align-items: center;">

                                <label for="post_id_select_byUsedTransfer" class="col-form-label col-sm-2">중고거래품목 *</label>
                                <select id= "post_id_select_byUsedTransfer" name="postId" class="form-select" aria-label="post_type">
                                    <option th:selected="${board.postId}=='CTWR_SELL'" value="CTWR_SELL">캣타워</option>
                                    <option th:selected="${board.postId}=='FDST_SELL'" value="FDST_SELL">식사용품</option>
                                    <option th:selected="${board.postId}=='FOOD_SELL'" value="FOOD_SELL">소모품(식사류)</option>
                                    <option th:selected="${board.postId}=='HSW_SELL'" value="HSW_SELL">집사용품</option>
                                    <option th:selected="${board.postId}=='HYG_SELL'" value="HYG_SELL">위생용품</option>
                                    <option th:selected="${board.postId}=='WSH_SELL'" value="WSH_SELL">목욕용품</option>
                                </select>



                                <label for="second_amount" class="col-form-label col-sm-2">가격 *</label>
                                <input type="text" class="form-control form_info" id="second_amount" name="price" th:value="${price}" onkeyup="inputNumberFormat(this);">

                            </div>
                        </div>
                    </div>

                </div>

                <div th:unless="${board.communityId}=='USD_TRN' or ${board.communityId}=='FRE_SEL'">
                    <input type="hidden" name="price" value="0">
                </div>

            </div>
            <!--이후 추가 끝-->
            <div class="row w-50 mb-5">
                <label for="exampleFormControlTextarea1" class="col-sm-2 col-form-label"
                >내용 *</label
                >
                <div class="col-sm-10">
          <textarea
                  class="form-control" name="content"
                  id="exampleFormControlTextarea1"
                  rows="10"
                  placeholder="내용을 입력해주세요." th:text="${board.content}" required
          ></textarea>
                </div>
            </div>
        </div>
        <div id="insert_pic_box">
            <div class="row w-50 mb-3">
                <label for="inputGroupFile02" class="col-sm-2 col-form-label"
                >이미지첨부</label>
                <div class="col-sm-10">
                    <div class="input-group mb-3">
                        <!-- 파일 업로드   -->
                        <input type="file" name="files" multiple="multiple" class="form-control" id="inputGroupFile02"/>
                        <label class="input-group-text" for="inputGroupFile02">Upload</label>
                    </div>
                </div>

                <!--   첨부된 이미지    -->
                <div th:if="${!#lists.isEmpty(orgName)}" id="img_pic_box" > 첨부된 이미지 :
                    <div th:each="communityImage : ${orgName}" >
                        <a th:href="@{${communityImage.imgPath}}" th:text="${communityImage.imageOrgName}"></a>
                    </div>
                </div>
                <div th:if="${#lists.isEmpty(orgName)}" ></div>
            </div>
        </div>

        <div class="mx-auto" id="upload_info">
            <p>* 사진은 5개 까지 첨부할 수 있습니다.</p>
            <p>* 사진은 개당 5MB를 넘을 수 없습니다.</p>
            <p>* 사진은 최대 20MB까지 첨부할 수 있습니다.</p>
        </div>

        <hr class="border border-white" />

        <div class="bot_btn_group">
            <button class="btn btn-dark" ><i class="bi bi-pencil-square"></i>수정하기</button>

            <button type="button" class="btn btn-dark" style="margin-left:10px;">
                <a th:href="@{/boardlist(id=${board.communityId})}" class="text-white"> <i class="bi bi-list"></i> 목록으로</a>
            </button>
        </div>
    </form>
</div>
</html>