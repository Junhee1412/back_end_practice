## 전송방식 종류

- 단순 전송
- 압축 전송
- 분할 전송
- 범위 전송

---

### 단순 전송

- 일반적으로 요청하고 그 리소스 파일을 전부 받는다.
- Content-Length의 길이가 변하지 않는다.

---

### 압축 전송

- Content-Encoding을 통해 압축한다.(gzip 등)
- Content-Length의 길이가 줄어든다.

---

### 분할 전송

- Transfer-Encoding: chunked라는 메시지가 응답된다.
- 바이트 단위로 분할해서 보낸다.

```
  5
  Hello
  5
  Hello
  0
  /r/n
```

- 이런식으로 응답하고 마지막에 0바이트로 마무리한다.
- Content-Length가 존재하면 안된다.
  - Length가 예상이 안된다.
  - Chunked마다 바이트로 Length를 달아놓기 때문

---

### 범위 전송

- 요청할 때 요청메시지에 Range: bytes=1001-2000 이라고 보낸다.
- 응답할 때 Content-Range: bytes 1001-2000/2000이 포함된다.
- 응답은 범위에 해당하는 값만 전송된다.

위의 4가지가 대표적으로 전송되는 방식이다.

---

## 일반 정보

- 정보성 헤더들이다.
- From : 유저 에이전트의 이메일 정보
- Referer : 이전 웹 페이지 주소
- User-Agent : 유저 에이전트 애플리케이션 정보
- Server : 요청을 처리하는 오리진 서버의 소프트웨어 정보
- Date : 메시지가 생성된 날짜

---

### From

- 이메일 정보
- 일반적으로 잘 사용되지 않는다.
- 검색 엔진 같은 곳에서 주로 사용한다.
- 요청에서 사용

---

### Referer

- 이전 웹 페이지 주소
- 이전 요청받은 페이지를 알려준다.
- A -> B로 이동하는 경우 B를 요청할 때 Referer: A를 포함해서 요청한다.
- Referer를 사용해서 유입 경로를 분석하기도 한다.
- 요청에서 사용
- 참고 : referer는 단어 referrer의 오타인데 이미 한 번 배포된 이후라서 수정할 수 없었다.

---

### User-Agent

- 유저 에이전트 애플리케이션 정보
- 클라이언트의 애플리케이션 정보(웹 브라우저 정보, 등등)
- 통계 정보
- **어떤 종류의 브라우저에서 장애가 발생하는지 파악이 가능하다.**
- 요청에서 사용

---

### Server

- 요청을 처리하는 ORIGIN 서버의 소프트 웨어 정보
- Server: Apache/2.2.22(Debian)
- server:nginx
- 응답에서 사용한다.
- 클라이언트가 보내는 요청메시지는 수 많은 서버를 거치고 응답하지만 수 많은 서버 중 내 마지막 응답에 대해 알려준다.

---

### Date

- 메시지가 발생한 날짜와 시간
- Date: Tue, 15 Nov 1994 08:12:31 GMT
- 응답에서 사용한다.
- 처음엔 요청에서도 사용했으나 시간이 지나고 응답에서만 사용하도록 바뀌었다.

---

## 특별한 정보

- Host : 요청한 호스트 정보(도메인)
- Location : 페이지 리다이렉션
- Allow : 허용 가능한 HTTP 메서드
- Retry-After : 유저 에이전트가 다음 요청을 하기까지 기다려야 하는 시간

---

### Host

- 요청한 호스트 정보(도메인)
- 요청에서 사용
- **필수값이다.**
- 하나의 서버가 여러 도메인을 처리해야 할 때
- 하나의 IP주소에 여러 도메인이 적용되어 있을 때
- 우리가 서버에 요청을 한다. -> 서버는 응답을 해야하는데 여러 도메인을 처리하고 있는 서버이다. -> Host정보를 보고 어떤 응답을 해줘야 하는지 확인 후 응답한다.
- IP주소만으로 통신을 할 수 있는 이유이다.

---

### Location

- 페이지 리다이렉션
- 웹 브라우저는 3xx응답의 결과에 Location 헤더가 있으면, Location위치로 자동 이동한다 (Redirect)
- 201(Created) : Location값은 요청에 의해 생성된 리소스 URI
- 3xx(Redirection) : Location 값은 요청을 자동으로 리다이렉션 하기 위한 대상 리소스를 가리킨다.

---

### Allow

- 허용 가능한 HTTP 메서드
- 405(Method Not Allowed)에서 응답에 포함해야한다.
- Allow: GET, HEAD, PUT
- 자주 쓰이지는 않는다.

---

### Retry-After

- 유저 에이전트가 다음 요청을 하기까지 기다려야 하는 시간
- 503(Service Unavailable) : 서비스가 언제까지 불능인지 알려줄 수 있다.
- Retry-After : Fri, 31 Dec 1999 23:59:59 GMT(날짜 표기)
- Retry-After : 120(초단위 표기)
- 자주 쓰이지는 않는다.
- 자주 쓰일 수가 없다는 표현이 정확할 수도 있다.(사용하기 쉽지 않다.)
- 개발자가 시간을 정해두고 점검해도 시간이 미뤄지는 경우도 있기 때문

---

**다음은 인증과 쿠키에 대해 정리하겠다! 이후는 캐시를 정리하고 HTTP 마무리를 지어보려 한다.**
